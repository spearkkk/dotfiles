# Load environment variables
source "$CONFIG_DIR/env.sh"

# Load all defined colors
source "$CONFIG_DIR/colors.sh"
source "$CONFIG_DIR/icon_map.sh"

# Load all defined icons
source "$CONFIG_DIR/icons.sh"

# Set variables for directories
ITEM_DIR="$CONFIG_DIR/items"
PLUGIN_DIR="$CONFIG_DIR/plugins"


# BAR Appearance
BAR=(
  position=TOP
  height=35
  margin=0
  y_offset=0
  corner_radius=0
  border_width=0
  blur_radius=0
  padding_left=4
  padding_right=4

  color="$(set_alpha $BACKGROUND_DARKEST 20)"
  border_color="$(set_alpha $CYAN 80)"
)

sketchybar --bar "${BAR[@]}"


# Default appearance for items
INNER_PADDING=4
OUTER_PADDING=8
FONT="Hack Nerd Font:BOLD:16.0"

EAGER_FREQUENCY=1
LAZY_FREQUENCY=300

DEFAULT=(
  background.height=30
  background.y_offset=0
  background.padding_left=2
  background.padding_right=2
  background.corner_radius=4
  background.border_width=0
  label.font="$FONT"
  label.padding_left=0
  label.padding_right=0
  icon.font="$FONT"
  icon.padding_left=0
  icon.padding_right=0
)

DEFAULT_COLORS=(
  background.color="$(set_alpha $BACKGROUND_DARKEST 60)"
  label.color="$TEXT_DEFAULT"
  icon.color="$TEXT_DEFAULT"
)

CONTRAST_COLORS=(
  background.color="$BACKGROUND_DARK"
  label.color="$TEXT_DEFAULT"
  icon.color="$TEXT_DEFAULT"
)

sketchybar --default "${DEFAULT[@]}" "${DEFAULT_COLORS[@]}"

source "$ITEM_DIR/_aerospace.sh"

source "$ITEM_DIR/_timestamp.sh"
source "$ITEM_DIR/_weather.sh"


# End
sketchybar --update
